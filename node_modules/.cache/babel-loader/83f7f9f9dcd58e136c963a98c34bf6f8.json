{"ast":null,"code":"var _jsxFileName = \"/Users/heekyungkim/rentronics/src/Rentronics/components/profile/recent-rentals/index.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as profileService from \"../../../services/profile-service\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst RecentRentals = _ref => {\n  _s();\n\n  let {\n    rental,\n    date,\n    userID\n  } = _ref;\n  const dispatch = useDispatch();\n  let update = useSelector(state => state.updateReducer);\n  const [description, setDescription] = useState('');\n  const [reviewForm, setReviewForm] = useState(null);\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n  const rentalItem = rental;\n  const rentalDate = new Date(date).toDateString();\n  const reviewDate = Date.now();\n  const ratingGiven = rating;\n  const descriptionByUser = description;\n\n  const rate = async () => {\n    await profileService.createReviewByUser(userID, rentalItem._id, descriptionByUser, reviewDate, ratingGiven);\n    update = !update;\n    dispatch({\n      type: 'UPDATE_PROFILE',\n      update\n    });\n    setDescription(\"\");\n    setRating(0);\n    setHover(0);\n    setReviewForm(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ri_border border w-100 h-100 ms-0\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/viewItem/${rentalItem._id}`,\n        className: \"text-decoration-none row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-2 mt-3 ps-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"pr-ri-pic rounded\",\n              alt: \"\",\n              src: rentalItem.productImages[8]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-8 mt-2 ps-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fs-6 fw-bold\",\n              children: rentalItem.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-secondary fs-6\",\n              children: rentalDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fs-6\",\n              children: rentalItem.productDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-2 mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ri-price-font fw-bold pe-2 float-start\",\n              children: [rentalItem.price, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ri-price-font fw-bold pe-2 float-start\",\n              children: \"USD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `btn btn-outline-primary rounded-pill float-end mt-1 mb-2 me-2 ${reviewForm ? \"d-none\" : \"d-block\"}`,\n        onClick: () => setReviewForm(\"review\"),\n        children: \"Add review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mt-4 ${reviewForm ? \"d-block\" : \"d-none\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-3 star-rating\",\n          children: [...Array(5)].map((star, index) => {\n            index += 1;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: `button-star ${index <= (hover || rating) ? `on` : `off`}`,\n              onClick: () => setRating(index),\n              onMouseEnter: () => setHover(index),\n              onMouseLeave: () => setHover(rating),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"star\",\n                children: \"\\u2605\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 23\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-3 pe-3 mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Please leave review\",\n            className: \"w-100 border\",\n            value: description,\n            onChange: event => setDescription(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn btn-outline-primary rounded-pill float-end mt-1 mb-2 me-2\",\n            onClick: rate,\n            children: \"Add review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(RecentRentals, \"Dyxil9JNKd/0XEp12c4A0sHSRNM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = RecentRentals;\nexport default RecentRentals;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecentRentals\");","map":{"version":3,"names":["useState","Link","profileService","useDispatch","useSelector","RecentRentals","rental","date","userID","dispatch","update","state","updateReducer","description","setDescription","reviewForm","setReviewForm","rating","setRating","hover","setHover","rentalItem","rentalDate","Date","toDateString","reviewDate","now","ratingGiven","descriptionByUser","rate","createReviewByUser","_id","type","productImages","productName","productDescription","price","Array","map","star","index","event","target","value"],"sources":["/Users/heekyungkim/rentronics/src/Rentronics/components/profile/recent-rentals/index.js"],"sourcesContent":["import {useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport * as profileService from \"../../../services/profile-service\"\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst RecentRentals = ({rental, date, userID}) => {\n  const dispatch = useDispatch();\n  let update = useSelector(state => state.updateReducer);\n  const [description, setDescription] = useState('');\n  const [reviewForm, setReviewForm] = useState(null);\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n\n  const rentalItem = rental;\n  const rentalDate = new Date(date).toDateString();\n  const reviewDate = Date.now();\n  const ratingGiven = rating;\n  const descriptionByUser = description;\n\n  const rate = async () => {\n    await profileService.createReviewByUser(userID, rentalItem._id, descriptionByUser, reviewDate, ratingGiven);\n\n    update = !update;\n\n    dispatch({\n      type: 'UPDATE_PROFILE',\n      update\n    })\n\n    setDescription(\"\");\n    setRating(0);\n    setHover(0);\n    setReviewForm(null);\n  }\n\n  return(\n      <>\n        <div className=\"ri_border border w-100 h-100 ms-0\">\n\n            <Link to={`/viewItem/${rentalItem._id}`} className=\"text-decoration-none row\">\n              <div className=\"row\">\n\n            <div className=\"col-2 mt-3 ps-4\">\n              <img className=\"pr-ri-pic rounded\" alt=\"\" src={rentalItem.productImages[8]}/>\n            </div>\n\n            <div className=\"col-8 mt-2 ps-4\">\n              <div className=\"fs-6 fw-bold\">{rentalItem.productName}</div>\n              <div className=\"text-secondary fs-6\">{rentalDate}</div>\n              <div className=\"fs-6\">{rentalItem.productDescription}</div>\n            </div>\n\n            <div className=\"col-2 mt-3\">\n              <div className=\"ri-price-font fw-bold pe-2 float-start\">{rentalItem.price} </div>\n              <br/>\n              <div className=\"ri-price-font fw-bold pe-2 float-start\">USD</div>\n            </div>\n              </div>\n\n            </Link>\n\n\n          <div className={`btn btn-outline-primary rounded-pill float-end mt-1 mb-2 me-2 ${reviewForm ? \"d-none\" : \"d-block\" }`} onClick={() => setReviewForm(\"review\")}>Add review</div>\n\n\n          <div className={`mt-4 ${reviewForm ? \"d-block\" : \"d-none\"}`}>\n            <div className=\"ps-3 star-rating\">\n              {[...Array(5)].map((star, index) => {\n                index += 1;\n                return (\n                    <button\n                        type=\"button\"\n                        key={index}\n                        className={`button-star ${index <= (hover || rating) ? `on` : `off`}`}\n                        onClick={() => setRating(index)}\n                        onMouseEnter={() => setHover(index)}\n                        onMouseLeave={() => setHover(rating)}\n                    >\n                      <span className=\"star\">&#9733;</span>\n                    </button>\n                );\n              })}\n            </div>\n            <div className=\"ps-3 pe-3 mt-2\">\n            <textarea placeholder=\"Please leave review\" className=\"w-100 border\" value={description}\n                      onChange={(event) => setDescription(event.target.value)}/>\n            <div className=\"btn btn-outline-primary rounded-pill float-end mt-1 mb-2 me-2\" onClick={rate}>Add review</div>\n            </div>\n\n          </div>\n\n\n\n\n        </div>\n      </>\n  );\n}\nexport default RecentRentals;"],"mappings":"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"},"metadata":{},"sourceType":"module"}