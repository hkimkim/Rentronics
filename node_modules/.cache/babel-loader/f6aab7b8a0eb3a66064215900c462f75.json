{"ast":null,"code":"var _jsxFileName = \"/Users/heekyungkim/rentronics/src/Rentronics/components/cart/index.js\",\n    _s = $RefreshSig$();\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { getUserCart, placeOrder, removeProductItemCart } from \"../../actions/cart-actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cart = () => {\n  _s();\n\n  //TODO: Update profile ID fetching\n  let currentUser = useSelector(state => state.currentUser); // const profile = useSelector(state => state.profile);\n\n  const userID = currentUser && currentUser._id;\n  const data = {\n    \"userID\": userID\n  };\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cartDetails);\n  console.log(cart);\n  useEffect(() => {\n    if (!userID) {\n      navigate('/login');\n    }\n\n    getUserCart(dispatch, data);\n  }, []);\n\n  const handlePlaceOrder = () => {\n    if (!userID) {\n      navigate('/login');\n    }\n\n    placeOrder(data).then(r => {\n      alert(\"Order placed successfully. Navigating to home page\");\n      navigate('/home');\n    });\n  };\n\n  const handleRemoveItemFromCart = item => {\n    if (!userID) {\n      navigate('/login');\n    }\n\n    const removeProductData = {\n      \"userID\": userID,\n      \"productID\": item[\"productID\"]['_id']\n    };\n    removeProductItemCart(dispatch, removeProductData).then(r => {\n      alert(`${item[\"productID\"]['productName']} item removed successfully.`);\n    });\n  };\n\n  const totalPrice = !(Object.keys(cart).length === 0) && cart.map(item => item[\"productID\"][\"price\"]).reduce((acc, amount) => acc + amount);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"m-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column col bg-light border rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fs-3 fw-bold p-3\",\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), userID && !cart.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fs-4 text-center p-4\",\n          children: \"Looks like your cart is empty.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 54\n        }, this), userID && cart.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: cart.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row align-items-center p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-2\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img-fluid\",\n                  src: item[\"productID\"]['productImages'][0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row text-muted\",\n                  children: item[\"productID\"]['productName']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [\"Duration: \", item[\"productID\"]['duration'], \" months\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col\",\n                children: [\"$\", item[\"productID\"]['price']]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-1\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn\",\n                  onClick: () => {\n                    handleRemoveItemFromCart(item);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash fa-pull-right\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), !(Object.keys(cart).length === 0) && cart.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ms-3 d-flex flex-column col-3 border rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fs-3 fw-bold pt-3\",\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col fw-bold\",\n            children: [cart.length, \" Item(s): \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col text-right\",\n            children: [\"$ \", totalPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col fw-bold\",\n            children: \"Tax: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col text-right\",\n            children: [\"$ \", Math.round(0.1 * totalPrice)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col fw-bold\",\n            children: \"Total Price: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col text-right\",\n            children: [\"$ \", Math.round(1.1 * totalPrice)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handlePlaceOrder,\n            children: \"Checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 76\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cart, \"tanHLQdRH/VvtamCoqETafPbrFc=\", false, function () {\n  return [useSelector, useNavigate, useDispatch, useSelector];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["useDispatch","useSelector","useNavigate","useEffect","getUserCart","placeOrder","removeProductItemCart","Cart","currentUser","state","userID","_id","data","navigate","dispatch","cart","cartDetails","console","log","handlePlaceOrder","then","r","alert","handleRemoveItemFromCart","item","removeProductData","totalPrice","Object","keys","length","map","reduce","acc","amount","Math","round"],"sources":["/Users/heekyungkim/rentronics/src/Rentronics/components/cart/index.js"],"sourcesContent":["import {useDispatch, useSelector} from \"react-redux\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useEffect} from \"react\";\nimport {getUserCart, placeOrder, removeProductItemCart} from \"../../actions/cart-actions\";\n\nconst Cart = () => {\n    //TODO: Update profile ID fetching\n    let currentUser = useSelector(state => state.currentUser);\n\n    // const profile = useSelector(state => state.profile);\n    const userID = currentUser && currentUser._id\n    const data = {\"userID\":userID}\n    const navigate = useNavigate();\n    const dispatch= useDispatch();\n    const cart = useSelector(state => state.cartDetails);\n    console.log(cart)\n    useEffect(() => {\n        if (!userID) {\n                navigate('/login');\n        }\n        getUserCart(dispatch,data)\n    }, []);\n\n    const handlePlaceOrder = () => {\n        if (!userID) {\n            navigate('/login');\n        }\n        placeOrder(data).then(r=> {\n                alert(\"Order placed successfully. Navigating to home page\");\n                navigate('/home')\n            }\n        )\n    }\n\n    const handleRemoveItemFromCart = (item) => {\n        if (!userID) {\n            navigate('/login');\n        }\n        const removeProductData = {\"userID\":userID,\"productID\":item[\"productID\"]['_id']}\n        removeProductItemCart(dispatch,removeProductData).then(r=> {\n                alert(`${item[\"productID\"]['productName']} item removed successfully.`);\n            }\n        )\n    }\n\n    const totalPrice = !(Object.keys(cart).length === 0) && cart.map(item => item[\"productID\"][\"price\"]).reduce((acc, amount) => acc + amount);\n\n    return (\n        <div className=\"m-5\">\n            <div className=\"d-flex flex-row row\">\n                <div className=\"d-flex flex-column col bg-light border rounded\">\n                    <div className=\"fs-3 fw-bold p-3\">\n                        Shopping Cart\n                    </div>\n                    {userID && (!cart.length > 0) && <div className=\"fs-4 text-center p-4\">\n                        Looks like your cart is empty.\n                    </div>}\n                    {userID && (cart.length > 0) && <div>\n                        {\n                            cart.map((item) => {\n                                return (\n                                    <div className=\"row align-items-center p-3\">\n                                        <div className=\"col-2\">\n                                            <img className=\"img-fluid\" src={item[\"productID\"]['productImages'][0]}/>\n                                        </div>\n                                        <div className=\"col\">\n                                            <div className=\"row text-muted\">{item[\"productID\"]['productName']}</div>\n                                            <div className=\"row\">Duration: {item[\"productID\"]['duration']} months</div>\n                                        </div>\n                                        <div className=\"col\">\n                                            ${item[\"productID\"]['price']}\n                                        </div>\n                                        <div className=\"col-1\">\n                                            <button className=\"btn\" onClick={() => {handleRemoveItemFromCart(item)}}>\n                                                <i className=\"fas fa-trash fa-pull-right\"/>\n                                            </button>\n                                        </div>\n                                    </div>\n                                );\n                            })\n                        }\n                    </div>}\n                </div>\n                {!(Object.keys(cart).length === 0) && (cart.length > 0) && <div className=\"ms-3 d-flex flex-column col-3 border rounded\">\n                    <div className=\"fs-3 fw-bold pt-3\">\n                        Summary\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col fw-bold\">{cart.length} Item(s): </div>\n                        <div className=\"col text-right\">$ {totalPrice}</div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col fw-bold\">Tax: </div>\n                        <div className=\"col text-right\">$ {Math.round(0.1*totalPrice)}</div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col fw-bold\">Total Price: </div>\n                        <div className=\"col text-right\">$ {Math.round(1.1*totalPrice)}</div>\n                    </div>\n                    <div className=\"mb-4 mt-4\">\n                        <button className=\"btn btn-primary\" onClick={handlePlaceOrder}>Checkout</button>\n                    </div>\n                </div>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}