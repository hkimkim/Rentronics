{"ast":null,"code":"import axios from \"axios\";\nconst API = process.env.BEST_BUY_API;\nconst API_KEY = process.env.BEST_BUY_API_KEY;\nexport const searchProduct = async search_terms => {\n  let search_query = createSearchQuery(search_terms);\n  console.log(search_query);\n  const response = await axios.get(API + search_query);\n  console.log(response.data.products);\n  return response.data.products;\n};\nexport const getProductPrice = async sku => {\n  const query = API + '(sku=' + sku + ')?apiKey=' + API_KEY + '&format=json';\n  console.log(query);\n  const response = await axios.get(query);\n  console.log(response.data.products[0].regularPrice);\n  return response.data.products[0].regularPrice;\n};\n\nconst createSearchQuery = search_terms => {\n  let splitTerms;\n  console.log(search_terms.category);\n\n  if (search_terms.keywords !== '') {\n    splitTerms = search_terms.keywords.split(' ');\n    splitTerms.push(search_terms.category);\n  } else {\n    splitTerms = [];\n    splitTerms.push(search_terms.category);\n  } // if (search_terms.keywords === '' && search_terms.category === 'any') {\n  //     splitTerms = ['*'];\n  // }\n\n\n  let search_query = \"((\";\n  console.log(splitTerms);\n  let i = 0;\n\n  while (i < splitTerms.length - 1) {\n    search_query += 'search=' + splitTerms[i] + '&';\n    i++;\n  }\n\n  search_query += 'search=' + splitTerms[i] + \")\";\n  search_query += '&manufacturer=' + search_terms.brand;\n  search_query += \"&type=HardGood)?apiKey=\" + API_KEY + \"&show=details.value,images,image,name,modelNumber,regularPrice,sku&format=json\";\n  return search_query;\n};","map":{"version":3,"names":["axios","API","process","env","BEST_BUY_API","API_KEY","BEST_BUY_API_KEY","searchProduct","search_terms","search_query","createSearchQuery","console","log","response","get","data","products","getProductPrice","sku","query","regularPrice","splitTerms","category","keywords","split","push","i","length","brand"],"sources":["/Users/heekyungkim/rentronics/src/Rentronics/services/best-buy-api-service.js"],"sourcesContent":["import axios from \"axios\"\n\nconst API = process.env.BEST_BUY_API;\nconst API_KEY = process.env.BEST_BUY_API_KEY;\n\nexport const searchProduct = async (search_terms) => {\n    let search_query = createSearchQuery(search_terms);\n\n    console.log(search_query);\n\n    const response = await axios.get(API + search_query);\n    \n    console.log(response.data.products);\n    return response.data.products;\n}\n\nexport const getProductPrice = async (sku) => {\n    const query = API + '(sku='+ sku +')?apiKey=' + API_KEY + '&format=json';\n    console.log(query);\n    const response = await axios.get(query);\n    console.log(response.data.products[0].regularPrice);\n    return response.data.products[0].regularPrice;\n}\n\n\nconst createSearchQuery = (search_terms) => {\n    let splitTerms;\n\n    console.log(search_terms.category);\n\n    if (search_terms.keywords !== '') {\n        splitTerms = search_terms.keywords.split(' ');\n        splitTerms.push(search_terms.category);\n    } else {\n        splitTerms = [];\n        splitTerms.push(search_terms.category);\n    }\n\n    // if (search_terms.keywords === '' && search_terms.category === 'any') {\n    //     splitTerms = ['*'];\n    // }\n\n    let search_query = \"((\"; \n\n    console.log(splitTerms);\n\n    let i = 0;\n\n    while (i < splitTerms.length - 1) {\n        search_query += 'search=' + splitTerms[i] + '&';\n        i++;\n    }\n    \n    search_query += 'search=' + splitTerms[i] + \")\";\n    search_query += '&manufacturer=' + search_terms.brand;\n    search_query += \"&type=HardGood)?apiKey=\"+ API_KEY +\"&show=details.value,images,image,name,modelNumber,regularPrice,sku&format=json\"\n    \n    return search_query;\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,YAAxB;AACA,MAAMC,OAAO,GAAGH,OAAO,CAACC,GAAR,CAAYG,gBAA5B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAOC,YAAP,IAAwB;EACjD,IAAIC,YAAY,GAAGC,iBAAiB,CAACF,YAAD,CAApC;EAEAG,OAAO,CAACC,GAAR,CAAYH,YAAZ;EAEA,MAAMI,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAUb,GAAG,GAAGQ,YAAhB,CAAvB;EAEAE,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACE,IAAT,CAAcC,QAA1B;EACA,OAAOH,QAAQ,CAACE,IAAT,CAAcC,QAArB;AACH,CATM;AAWP,OAAO,MAAMC,eAAe,GAAG,MAAOC,GAAP,IAAe;EAC1C,MAAMC,KAAK,GAAGlB,GAAG,GAAG,OAAN,GAAeiB,GAAf,GAAoB,WAApB,GAAkCb,OAAlC,GAA4C,cAA1D;EACAM,OAAO,CAACC,GAAR,CAAYO,KAAZ;EACA,MAAMN,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAUK,KAAV,CAAvB;EACAR,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACE,IAAT,CAAcC,QAAd,CAAuB,CAAvB,EAA0BI,YAAtC;EACA,OAAOP,QAAQ,CAACE,IAAT,CAAcC,QAAd,CAAuB,CAAvB,EAA0BI,YAAjC;AACH,CANM;;AASP,MAAMV,iBAAiB,GAAIF,YAAD,IAAkB;EACxC,IAAIa,UAAJ;EAEAV,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACc,QAAzB;;EAEA,IAAId,YAAY,CAACe,QAAb,KAA0B,EAA9B,EAAkC;IAC9BF,UAAU,GAAGb,YAAY,CAACe,QAAb,CAAsBC,KAAtB,CAA4B,GAA5B,CAAb;IACAH,UAAU,CAACI,IAAX,CAAgBjB,YAAY,CAACc,QAA7B;EACH,CAHD,MAGO;IACHD,UAAU,GAAG,EAAb;IACAA,UAAU,CAACI,IAAX,CAAgBjB,YAAY,CAACc,QAA7B;EACH,CAXuC,CAaxC;EACA;EACA;;;EAEA,IAAIb,YAAY,GAAG,IAAnB;EAEAE,OAAO,CAACC,GAAR,CAAYS,UAAZ;EAEA,IAAIK,CAAC,GAAG,CAAR;;EAEA,OAAOA,CAAC,GAAGL,UAAU,CAACM,MAAX,GAAoB,CAA/B,EAAkC;IAC9BlB,YAAY,IAAI,YAAYY,UAAU,CAACK,CAAD,CAAtB,GAA4B,GAA5C;IACAA,CAAC;EACJ;;EAEDjB,YAAY,IAAI,YAAYY,UAAU,CAACK,CAAD,CAAtB,GAA4B,GAA5C;EACAjB,YAAY,IAAI,mBAAmBD,YAAY,CAACoB,KAAhD;EACAnB,YAAY,IAAI,4BAA2BJ,OAA3B,GAAoC,gFAApD;EAEA,OAAOI,YAAP;AACH,CAjCD"},"metadata":{},"sourceType":"module"}