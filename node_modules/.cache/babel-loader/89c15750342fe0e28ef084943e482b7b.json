{"ast":null,"code":"var _jsxFileName = \"/Users/heekyungkim/rentronics/src/Rentronics/components/search-results/result-page.js\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from \"react-redux\";\nimport { addProductToCart } from \"../../actions/view-item-actions\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ResultsPage = _ref => {\n  _s();\n\n  let {\n    items\n  } = _ref;\n  let currentUser = useSelector(state => state.currentUser); // const profile = useSelector(state => state.profile);\n\n  const userID = currentUser && currentUser._id; // const profile = useSelector(state => state.profile);\n  // //TODO: Update profile ID fetching\n  // const userID = profile && profile.userID\n\n  const navigate = useNavigate();\n\n  const handleAddToCart = _ref2 => {\n    let {\n      item\n    } = _ref2;\n\n    if (userID) {\n      const data = {\n        'userID': userID,\n        'productID': item[\"productID\"][\"_id\"]\n      };\n      addProductToCart(data);\n      alert(\"Item \" + item[\"productName\"] + \" added to cart.\");\n    } else {\n      alert(\"User not logged in. Navigating to Login\");\n      navigate('/login');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row row-cols-1 row-cols-md-4 g-4\",\n    children: items && !(Object.keys(items).length === 0) && items.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card h-100\",\n          onClick: () => {\n            navigate(`/viewItem/${item._id}`);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item[\"productImages\"][0],\n            className: \"card-img-top p-2\",\n            alt: \"product primary image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: item[\"productName\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-subtitle pt-2 pb-2 fw-bold\",\n              children: [\"Price: $\", item[\"price\"]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 37\n            }, this), currentUser && currentUser.userType === 'buyer' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleAddToCart({\n                item\n              }),\n              className: \"btn btn-primary\",\n              children: \"Add to cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 25\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ResultsPage, \"+8adViB4z50aM3eXvotzLsqL9n0=\", false, function () {\n  return [useSelector, useNavigate];\n});\n\n_c = ResultsPage;\nexport default ResultsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResultsPage\");","map":{"version":3,"names":["useSelector","addProductToCart","useNavigate","ResultsPage","items","currentUser","state","userID","_id","navigate","handleAddToCart","item","data","alert","Object","keys","length","map","userType"],"sources":["/Users/heekyungkim/rentronics/src/Rentronics/components/search-results/result-page.js"],"sourcesContent":["import {useSelector} from \"react-redux\";\nimport {addProductToCart} from \"../../actions/view-item-actions\";\nimport {useNavigate} from \"react-router-dom\";\n\nconst ResultsPage = ({items}) => {\n    let currentUser = useSelector(state => state.currentUser);\n\n    // const profile = useSelector(state => state.profile);\n    const userID = currentUser && currentUser._id\n    // const profile = useSelector(state => state.profile);\n    // //TODO: Update profile ID fetching\n    // const userID = profile && profile.userID\n    const navigate =useNavigate()\n    const handleAddToCart = ({item}) => {\n        if (userID) {\n            const data = {'userID':userID, 'productID': item[\"productID\"][\"_id\"]}\n            addProductToCart(data)\n            alert(\"Item \" + item[\"productName\"] + \" added to cart.\")\n        } else {\n            alert(\"User not logged in. Navigating to Login\")\n            navigate('/login');\n        }\n    }\n    return (\n        <div className=\"row row-cols-1 row-cols-md-4 g-4\">\n            {\n                items && !(Object.keys(items).length === 0) && items.map((item) => {\n                    return (\n                        <div className=\"col\">\n                            <div className=\"card h-100\" onClick={() => {\n                                navigate(`/viewItem/${item._id}`);\n                            }}>\n                                <img src={item[\"productImages\"][0]} className=\"card-img-top p-2\" alt=\"product primary image\"/>\n                                <div className=\"card-body\">\n                                    <h5 className=\"card-title\">{item[\"productName\"]}</h5>\n                                    <p className=\"card-subtitle pt-2 pb-2 fw-bold\">Price: ${item[\"price\"]}</p>\n                                    { currentUser && (currentUser.userType === 'buyer') &&\n                                    <button onClick={() => handleAddToCart({item})} className=\"btn btn-primary\">Add to cart</button> }\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })\n            }\n        </div>\n    );\n}\n\nexport default ResultsPage;"],"mappings":";;;AAAA,SAAQA,WAAR,QAA0B,aAA1B;AACA,SAAQC,gBAAR,QAA+B,iCAA/B;AACA,SAAQC,WAAR,QAA0B,kBAA1B;;;AAEA,MAAMC,WAAW,GAAG,QAAa;EAAA;;EAAA,IAAZ;IAACC;EAAD,CAAY;EAC7B,IAAIC,WAAW,GAAGL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACD,WAAhB,CAA7B,CAD6B,CAG7B;;EACA,MAAME,MAAM,GAAGF,WAAW,IAAIA,WAAW,CAACG,GAA1C,CAJ6B,CAK7B;EACA;EACA;;EACA,MAAMC,QAAQ,GAAEP,WAAW,EAA3B;;EACA,MAAMQ,eAAe,GAAG,SAAY;IAAA,IAAX;MAACC;IAAD,CAAW;;IAChC,IAAIJ,MAAJ,EAAY;MACR,MAAMK,IAAI,GAAG;QAAC,UAASL,MAAV;QAAkB,aAAaI,IAAI,CAAC,WAAD,CAAJ,CAAkB,KAAlB;MAA/B,CAAb;MACAV,gBAAgB,CAACW,IAAD,CAAhB;MACAC,KAAK,CAAC,UAAUF,IAAI,CAAC,aAAD,CAAd,GAAgC,iBAAjC,CAAL;IACH,CAJD,MAIO;MACHE,KAAK,CAAC,yCAAD,CAAL;MACAJ,QAAQ,CAAC,QAAD,CAAR;IACH;EACJ,CATD;;EAUA,oBACI;IAAK,SAAS,EAAC,kCAAf;IAAA,UAEQL,KAAK,IAAI,EAAEU,MAAM,CAACC,IAAP,CAAYX,KAAZ,EAAmBY,MAAnB,KAA8B,CAAhC,CAAT,IAA+CZ,KAAK,CAACa,GAAN,CAAWN,IAAD,IAAU;MAC/D,oBACI;QAAK,SAAS,EAAC,KAAf;QAAA,uBACI;UAAK,SAAS,EAAC,YAAf;UAA4B,OAAO,EAAE,MAAM;YACvCF,QAAQ,CAAE,aAAYE,IAAI,CAACH,GAAI,EAAvB,CAAR;UACH,CAFD;UAAA,wBAGI;YAAK,GAAG,EAAEG,IAAI,CAAC,eAAD,CAAJ,CAAsB,CAAtB,CAAV;YAAoC,SAAS,EAAC,kBAA9C;YAAiE,GAAG,EAAC;UAArE;YAAA;YAAA;YAAA;UAAA,QAHJ,eAII;YAAK,SAAS,EAAC,WAAf;YAAA,wBACI;cAAI,SAAS,EAAC,YAAd;cAAA,UAA4BA,IAAI,CAAC,aAAD;YAAhC;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAG,SAAS,EAAC,iCAAb;cAAA,uBAAwDA,IAAI,CAAC,OAAD,CAA5D;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,EAGMN,WAAW,IAAKA,WAAW,CAACa,QAAZ,KAAyB,OAAzC,iBACF;cAAQ,OAAO,EAAE,MAAMR,eAAe,CAAC;gBAACC;cAAD,CAAD,CAAtC;cAAgD,SAAS,EAAC,iBAA1D;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAJJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAJJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ;IAeH,CAhB8C;EAFvD;IAAA;IAAA;IAAA;EAAA,QADJ;AAuBH,CA1CD;;GAAMR,W;UACgBH,W,EAOFE,W;;;KARdC,W;AA4CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}